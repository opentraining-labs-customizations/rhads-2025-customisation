includes:
- dynamic-plugins.default.yaml
plugins:
- disabled: false
  package: ./dynamic-plugins/dist/backstage-community-plugin-redhat-argocd
- disabled: false
  package: ./dynamic-plugins/dist/roadiehq-backstage-plugin-argo-cd-backend-dynamic
  pluginConfig:
    argocd:
      appLocatorMethods:
      - type: config
        instances: []
- disabled: false
  package: ./dynamic-plugins/dist/roadiehq-scaffolder-backend-argocd-dynamic
  pluginConfig:
    argocd:
      appLocatorMethods:
      - type: config
        instances: []
- disabled: false
  package: ./dynamic-plugins/dist/backstage-community-plugin-tekton
  pluginConfig:
    dynamicPlugins:
      frontend:
        backstage-community.plugin-tekton:
          mountPoints:
          - mountPoint: entity.page.ci/cards
            importName: TektonCI
            config:
              if:
                allOf:
                - isTektonCIAvailable
              layout:
                gridColumn: 1 / -1
                gridRowStart: 1
- disabled: false
  package: ./dynamic-plugins/dist/immobiliarelabs-backstage-plugin-gitlab
- disabled: false
  package: ./dynamic-plugins/dist/immobiliarelabs-backstage-plugin-gitlab-backend-dynamic
- disabled: false
  package: ./dynamic-plugins/dist/backstage-community-plugin-jenkins
  pluginConfig:
    dynamicPlugins:
      frontend:
        backstage-community.plugin-jenkins:
          mountPoints:
            - mountPoint: entity.page.ci/cards
              importName: EntityJenkinsContent
              config:
                if:
                  allOf:
                  - isJenkinsAvailable
                layout:
                  gridColumn: 1 / -1
- disabled: false
  package: ./dynamic-plugins/dist/backstage-community-plugin-jenkins-backend-dynamic
- disabled: false
  package: oci://quay.io/redhat-tssc/backstage-plugins:1.7.0!tssc-plugins-backstage-community-plugin-multi-source-security-viewer-dynamic
  pluginConfig:
    dynamicPlugins:
      frontend:
        tssc-plugins.backstage-community-plugin-multi-source-security-viewer:
          entityTabs:
          - mountPoint: entity.page.ci
            path: /ci
            title: CI
          mountPoints:
          - mountPoint: entity.page.ci/cards
            importName: EntityMultiCIPipelinesContent
            config:
              if:
                allOf:
                - isMultiCIAvailable
              layout:
                gridColumn: 1 / -1
                gridRowStart: 2
- disabled: false
  package: ./dynamic-plugins/dist/backstage-plugin-scaffolder-backend-module-bitbucket-cloud-dynamic
- disabled: false
  package: ./dynamic-plugins/dist/backstage-plugin-scaffolder-backend-module-github-dynamic
- disabled: false
  package: ./dynamic-plugins/dist/backstage-plugin-scaffolder-backend-module-gitlab-dynamic
- disabled: false
  package: ./dynamic-plugins/dist/backstage-community-plugin-quay
- disabled: false
  package: ./dynamic-plugins/dist/backstage-plugin-kubernetes
- disabled: false
  package: ./dynamic-plugins/dist/backstage-plugin-kubernetes-backend-dynamic
  pluginConfig:
    kubernetes:
      clusterLocatorMethods:
      - type: config
        clusters:
        - name: rhdh-cluster
          url: https://kubernetes.default.svc
          authProvider: serviceAccount
          serviceAccountToken: ${K8S_SERVICEACCOUNT_TOKEN}
          skipTLSVerify: true
          customResources:
          - group: argoproj.io
            apiVersion: v1alpha1
            plural: rollouts
          - group: route.openshift.io
            apiVersion: v1
            plural: routes
          - group: tekton.dev
            apiVersion: v1
            plural: pipelineruns
          - group: tekton.dev
            apiVersion: v1
            plural: taskruns
          - group: kubevirt.io
            apiVersion: v1
            plural: virtualmachines
          - group: kubevirt.io
            apiVersion: v1
            plural: virtualmachineinstances
      serviceLocatorMethod:
        type: multiTenant
- disabled: false
  package: ./dynamic-plugins/dist/backstage-community-plugin-topology
- disabled: false
  package: ./dynamic-plugins/dist/backstage-plugin-techdocs
- disabled: false
  package: ./dynamic-plugins/dist/backstage-plugin-techdocs-backend-dynamic
- disabled: false
  package: ./dynamic-plugins/dist/backstage-community-plugin-catalog-backend-module-keycloak-dynamic
- disabled: false
  package: ./dynamic-plugins/dist/backstage-community-plugin-ocm
- disabled: false
  package: ./dynamic-plugins/dist/backstage-community-plugin-ocm-backend-dynamic
# Sonataflow / orchestrator plugins (disabled)
- disabled: true
  package: '@redhat/backstage-plugin-orchestrator-backend-dynamic@1.7.1'
  integrity: sha512-9cXbedr0lC7ns7SNqARrWSQI4JGcZFw5xpfpUzA1tJaMMUjzAdPHTXqljf62/fs4hYBK8TJsWJ2KJkGVMzbrHQ==
  dependencies:
  - ref: sonataflow
- disabled: true
  package: '@redhat/backstage-plugin-orchestrator@1.7.1'
  integrity: sha512-Cqu9EQwVQ4mpdgWTUA0MW89Gul0IklhvkkqVoO3CloQ1dnAj1XyXikCphzH5TmNDDd9K66dOpaKKCaW9KeJ4WA==
  pluginConfig:
    dynamicPlugins:
      frontend:
        red-hat-developer-hub.backstage-plugin-orchestrator:
          appIcons:
          - name: orchestratorIcon
            importName: OrchestratorIcon
          dynamicRoutes:
          - path: /orchestrator
            importName: OrchestratorPage
            menuItem:
              text: Orchestrator
              icon: orchestratorIcon
- disabled: true
  package: '@redhat/backstage-plugin-scaffolder-backend-module-orchestrator-dynamic@1.7.1'
  integrity: sha512-J1sTjA5kj6DphG8D65go9KlpIfKyLN/wq+XlY5Cb5djEo8mvF3wn3Haf60OGFo5cP4OfRSWqFwT7LM5/dNVwAg==
  pluginConfig:
    orchestrator:
      dataIndexService:
        url: http://sonataflow-platform-data-index-service
- disabled: true
  package: '@redhat/backstage-plugin-orchestrator-form-widgets@1.7.1'
  integrity: sha512-0KIXrZoJ+O4xNNzN/zB4+VMuaRPuiUviAmM+fIhTo/P9aLA36F9aIlyMbUbki49uaJ0zd8KXMBvmJSHZNrYkGQ==
  pluginConfig:
    dynamicPlugins:
      frontend:
        red-hat-developer-hub.backstage-plugin-orchestrator-form-widgets: {}
- disabled: false
  package: ./dynamic-plugins/dist/backstage-plugin-notifications
- disabled: false
  package: ./dynamic-plugins/dist/backstage-plugin-signals
- disabled: false
  package: ./dynamic-plugins/dist/backstage-plugin-notifications-backend-dynamic
- disabled: false
  package: ./dynamic-plugins/dist/backstage-plugin-signals-backend-dynamic
